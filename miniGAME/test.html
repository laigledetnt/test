<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jeu de la Vie</title>
    <style>
        body { text-align: center; font-family: Arial, sans-serif; }
        canvas { border: 1px solid black; }
        button { margin: 10px; padding: 10px; }
    </style>
</head>
<body>
    <h1>Jeu de la Vie</h1>
    <canvas id="gameCanvas"></canvas>
    <br>
    <button onclick="startGame()">Démarrer</button>
    <button onclick="stopGame()">Arrêter</button>
    <button onclick="randomizeGrid()">Aléatoire</button>
    <button onclick="clearGrid()">Réinitialiser</button>
    
    <script>
        const canvas = document.getElementById("gameCanvas");
        const ctx = canvas.getContext("2d");
        const gridSize = 50;
        const cellSize = 10;
        canvas.width = gridSize * cellSize;
        canvas.height = gridSize * cellSize;
        
        let grid = createGrid();
        let running = false;
        let interval;
        
        function createGrid() {
            return new Array(gridSize).fill(null).map(() => new Array(gridSize).fill(0));
        }
        
        function drawGrid() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            for (let x = 0; x < gridSize; x++) {
                for (let y = 0; y < gridSize; y++) {
                    ctx.fillStyle = grid[x][y] ? "black" : "white";
                    ctx.fillRect(x * cellSize, y * cellSize, cellSize, cellSize);
                    ctx.strokeRect(x * cellSize, y * cellSize, cellSize, cellSize);
                }
            }
        }
        
        function updateGrid() {
            let newGrid = createGrid();
            for (let x = 0; x < gridSize; x++) {
                for (let y = 0; y < gridSize; y++) {
                    let neighbors = countNeighbors(x, y);
                    if (grid[x][y] === 1) {
                        newGrid[x][y] = neighbors === 2 || neighbors === 3 ? 1 : 0;
                    } else {
                        newGrid[x][y] = neighbors === 3 ? 1 : 0;
                    }
                }
            }
            grid = newGrid;
            drawGrid();
        }
        
        function countNeighbors(x, y) {
            let count = 0;
            for (let dx = -1; dx <= 1; dx++) {
                for (let dy = -1; dy <= 1; dy++) {
                    if (dx === 0 && dy === 0) continue;
                    let nx = x + dx;
                    let ny = y + dy;
                    if (nx >= 0 && nx < gridSize && ny >= 0 && ny < gridSize) {
                        count += grid[nx][ny];
                    }
                }
            }
            return count;
        }
        
        function startGame() {
            if (!running) {
                running = true;
                interval = setInterval(updateGrid, 100);
            }
        }
        
        function stopGame() {
            running = false;
            clearInterval(interval);
        }
        
        function randomizeGrid() {
            grid = grid.map(row => row.map(() => Math.random() > 0.7 ? 1 : 0));
            drawGrid();
        }
        
        function clearGrid() {
            grid = createGrid();
            drawGrid();
        }
        
        canvas.addEventListener("click", (event) => {
            const rect = canvas.getBoundingClientRect();
            const x = Math.floor((event.clientX - rect.left) / cellSize);
            const y = Math.floor((event.clientY - rect.top) / cellSize);
            grid[x][y] = grid[x][y] ? 0 : 1;
            drawGrid();
        });
        
        drawGrid();
    </script>
</body>
</html>
